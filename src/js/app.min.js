'use strict';const minutesEl=document.getElementById("minutes"),secondsEl=document.getElementById("seconds"),messageEl=document.querySelector(".card__message"),startButton=document.getElementById("start-btn"),pauseButton=document.getElementById("pause-btn"),resumeButton=document.getElementById("resume-btn"),resetButton=document.getElementById("reset-btn"),pomodoroButton=document.getElementById("pomodoro-btn"),shortBreakButton=document.getElementById("short-btn"),longBreakButton=document.getElementById("long-btn"),pageTitle=document.getElementById("title"),audioPlayer=document.getElementById("audio-player"),cardButtons=document.querySelectorAll(".card__button"),navigationButtons=document.querySelectorAll(".card__navigation--button");let minutesInterval,secondsInterval,minutes=24,seconds=59,mode="pomodoro";pomodoroButton.addEventListener("click",()=>{switchMode("pomodoro",24,59,25,0,"hsl(0, 50%, 60%)")}),shortBreakButton.addEventListener("click",()=>{switchMode("short",4,59,5,0,"hsl(180, 50%, 38%)")}),longBreakButton.addEventListener("click",()=>{switchMode("long",14,59,15,0,"hsl(204, 70%, 55%)")});const playAudio=a=>{audioPlayer.src=`/src/audio/${a}`,audioPlayer.play()},switchMode=(a,b,c,d,e,f)=>{clearIntervals(),startButton.classList.remove("d-none"),pauseButton.classList.add("d-none"),resetButton.classList.add("d-none"),resumeButton.classList.add("d-none"),messageEl.textContent="pomodoro"===a?"Time to Focus!":"Time to Break!",mode=a,minutes=b,seconds=c,minutesEl.textContent=twoDigits(d),secondsEl.textContent=twoDigits(e),switchTheme(f);"pomodoro"===a?(navigationButtons[0].classList.add("active"),navigationButtons[1].classList.remove("active"),navigationButtons[2].classList.remove("active")):"short"===a?(navigationButtons[0].classList.remove("active"),navigationButtons[1].classList.add("active"),navigationButtons[2].classList.remove("active")):"long"===a?(navigationButtons[0].classList.remove("active"),navigationButtons[1].classList.remove("active"),navigationButtons[2].classList.add("active")):console.log("Navigation not available.")},switchTheme=a=>{document.body.style.backgroundColor=a,cardButtons.forEach(b=>{b.style.color=a})},startTimer=()=>{function a(){minutes--,minutesEl.textContent=twoDigits(minutes)}function b(){seconds--,secondsEl.textContent=twoDigits(seconds),0>=seconds&&(0>=minutes&&(clearInterval(minutesInterval),clearInterval(secondsInterval),playAudio("bell.ogg"),"pomodoro"===mode?(resetTimer(25),switchMode("short",4,59,5,0,"hsl(180, 50%, 38%)")):"short"===mode?(resetTimer(5),switchMode("pomodoro",24,59,25,0,"hsl(0, 50%, 60%)")):(resetTimer(15),switchMode("pomodoro",24,59,25,0,"hsl(0, 50%, 60%)"))),seconds=60)}minutesEl.textContent=twoDigits(minutes),secondsEl.textContent=twoDigits(seconds),minutesInterval=window.setInterval(a,6e4),secondsInterval=window.setInterval(b,1e3)},twoDigits=a=>a.toLocaleString("en-US",{minimumIntegerDigits:2}),resetTimer=a=>{minutesEl.textContent=twoDigits(a),secondsEl.textContent=twoDigits(0),seconds=59};cardButtons.forEach(a=>{a.addEventListener("click",()=>{playAudio("click.ogg")})}),startButton.addEventListener("click",()=>{startButton.classList.add("d-none"),pauseButton.classList.remove("d-none"),resetButton.classList.remove("d-none"),setTimeout(startTimer,1e3);let a=document.createElement("audio");a.src="pomodoro"===mode?"/src/audio/focus.ogg":"/src/audio/break.ogg",a.play()}),pauseButton.addEventListener("click",()=>{pauseButton.classList.add("d-none"),resumeButton.classList.remove("d-none"),clearIntervals()}),resumeButton.addEventListener("click",()=>{resumeButton.classList.add("d-none"),pauseButton.classList.remove("d-none"),startTimer()}),resetButton.addEventListener("click",()=>{resetButton.classList.add("d-none"),pauseButton.classList.add("d-none"),resumeButton.classList.add("d-none"),startButton.classList.remove("d-none"),"pomodoro"===mode?resetTimer(25):"short"===mode?resetTimer(5):resetTimer(15),clearIntervals()});const clearIntervals=()=>{window.clearInterval(minutesInterval),window.clearInterval(secondsInterval)};